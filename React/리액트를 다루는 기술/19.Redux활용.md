# ë¦¬ë•ìŠ¤ í™œìš©í•˜ê¸°

- ë¦¬ë•ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´, ìƒíƒœ ì—…ë°ì´íŠ¸ì— ê´€í•œ ë¡œì§ì„ ëª¨ë“ˆë¡œ ë”°ë¡œ ë¶„ë¦¬í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ íŒŒì¼ê³¼ ë³„ê°œë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì½”ë“œë¥¼ ìœ ì§€ ë³´ìˆ˜í•˜ëŠ”ë° ë„ì›€ì´ ëœë‹¤. ë˜ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë™ì¼í•œ ìƒíƒœë¥¼ ê³µìœ í•´ì•¼ í•  ë•Œ ë§¤ìš° ìœ ìš©í•˜ë©°, ì‹¤ì œ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë§Œ ë¦¬ë Œë”ë§ ë˜ë„ë¡ ì‰½ê²Œ ìµœì í™”í•´ ì¤„ ìˆ˜ë„ ìˆë‹¤.
- ë§ì´ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ì€ í”„ë ˆì  í…Œì´ì…˜ ì»´í¬ë„ŒíŠ¸ì™€ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. í”„ë ˆì  í…Œì´ì…˜ ì»´í¬ë„ŒíŠ¸ëŠ” ì£¼ë¡œ ìƒíƒœ ê´€ë¦¬ê°€ ì´ë£¨ì–´ì§€ì§€ ì•Šê³ , ê·¸ì € propsë¥¼ ë°›ì•„ ì™€ì„œ í™”ë©´ì— UIë¥¼ ë³´ì—¬ ì£¼ê¸°ë§Œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§í•˜ê³  ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ë•ìŠ¤ì™€ ì—°ë™ë˜ì–´ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ, ë¦¬ë•ìŠ¤ë¡œë¶€í„° ìƒíƒœë¥¼ ë°›ì•„ ì˜¤ê¸°ë„ í•˜ê³  ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ì— ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í•˜ê¸°ë„ í•œë‹¤. ì´ë ‡ê²Œ ë‚˜ëˆ„ëŠ” ì´ìœ ëŠ” ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ë„ ë†’ì•„ì§€ê³ , ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ê°€ ì´ë£¨ì–´ì ¸ UIë¥¼ ì‘ì„±í•  ë•Œ ì¢€ ë” ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.
- ë¦¬ë•ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ì•¡ì…˜ íƒ€ì…, ì•¡ì…˜ ìƒì„± í•¨ìˆ˜, ë¦¬ë“€ì„œ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤. ê°ê° ë‹¤ë¥¸ íŒŒì¼ì— ì‘ì„±í•˜ëŠ” ë°©ë²•ë„ ìˆê³ , ê¸°ëŠ¥ë³„ë¡œ ë¬¶ì–´ì„œ íŒŒì¼ í•˜ë‚˜ì— ì‘ì„±í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤.
- íŒŒì¼ í•˜ë‚˜ì— ë‹¤ ì‘ì„±í•˜ëŠ” ë°©ì‹ì„ DucksíŒ¨í„´ì´ë¼ê³  í•œë‹¤. ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” DucksíŒ¨í„´ì„ ìƒìš”í•  ì˜ˆì •ì´ë‹¤.
- ê°€ì¥ ë¨¼ì € í•´ì•¼ í•  ì¼ì€ ì•¡ì…˜ íƒ€ì…ì„ ì •ì˜ í•˜ëŠ” ê²ƒì´ë‹¤. ì•¡ì…˜ íƒ€ì…ì€ ëŒ€ë¬¸ìë¡œ ì •ì˜í•˜ê³ , ë¬¸ìì—´ ë‚´ìš©ì€ 'ëª¨ë“ˆ ì´ë¦„/ì•¡ì…˜ ì´ë¦„'ê³¼ ê°™ì€ í˜•íƒœë¡œ ì‘ì„±í•œë‹¤. ë¬¸ìì—´ ì•ˆì— ëª¨ë“ˆ ì´ë¦„ì„ ë„£ì–´ì¤Œìœ¼ë¡œ ì¸í•´ ë‚˜ì¤‘ì— í° í”„ë¡œì íŠ¸ ì•ˆì—ì„œ ì•¡ì…˜ì˜ ì´ë¦„ì´ ì¶©ëŒí•˜ì§€ ì•Šê²Œ ëœë‹¤.
```javascript
const INCREASE = "counter/INCREASE";
const DECREASE = "counter/DECREASE";
```
- ê·¸ ë‹¤ìŒ í•´ì•¼ í•  ì¼ì€ ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒì´ë‹¤. ë” í•„ìš”í•˜ê±°ë‚˜ ì¶”ê°€í•  ê°’ì´ ì—†ìœ¼ë‹ˆ typeë§Œ ì„¤ì •í•´ì£¼ë©´ ëœë‹¤.
- exportë¼ëŠ” í‚¤ì›Œë“œë¥´ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì´ í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```javascript
export const increase = () => ({ type: INCREASE });
export const decrease = () => ({ type: DECREASE });
```
- ë§ˆì§€ë§‰ìœ¼ë¡œ counter ëª¨ë“ˆì˜ ì´ˆê¸° ìƒíƒœì™€ ë¦¬ë“€ì„œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì£¼ì–´ì•¼ í•œë‹¤.
- ë ë¶€ë¶„ì— export defaultë¥¼ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ ë‚´ë³´ë‚´ ì£¼ì—ˆëŠ”ë° exportëŠ” ì—¬ëŸ¬ ê°œë¥¼ ë³´ë‚¼ ìˆ˜ ìˆì§€ë§Œ export defaultëŠ” í•œ ê°œë§Œ ë³´ë‚¼ìˆ˜ ìˆë‹¤.
```javascript
const initialState = {
  number: 0,
};

function counter(state = initialState, action) {
  switch (action.type) {
    case INCREASE:
      return {
        number: state.number + 1,
      };

    case DECREASE:
      return {
        number: state.number - 1,
      };
    default:
      return state;
  }
}

export default counter;
```
## ë¦¬ì•¡íŠ¸ì— ë¦¬ë•ìŠ¤ ì ìš©í•˜ê¸°
- ë¨¼ì € storeë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤. ê·¸ë¦¬ê³  ë‚œ ë’¤, Providerë¥¼ ì‚¬ìš©í•´ ì»´í¬ë„ŒíŠ¸ë¡œ ê°ì‹¸ì£¼ê³  storeë¥¼ propsë¡œ ì „ë‹¬í•´ì£¼ì–´ì•¼ í•œë‹¤.
- Redux DevTools í¬ë¡¬ í™•ì¥ í”„ë¡œê·¸ë¨ì„ ì„¤ì¹˜í•´ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.
```javascript
// index.js ì»´í¬ë„ŒíŠ¸
import ReactDOM from "react-dom";
import { createStore } from "redux";
import { Provider } from "react-redux";
import { composeWithDevTools } from "redux-devtools-extension";
import "./index.css";
import App from "./App";
import rootReducer from "./modules";

const store = createStore(rootReducer, composeWithDevTools());

ReactDOM.render(
  <Provider store={store}>
    <App />
  </Provider>,
  document.getElementById("root")
);
```

## ì»¨í…Œì´ë„ˆ ë§Œë“¤ê¸°
- ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë•ìŠ¤ì™€ ì—°ë™í•˜ë ¤ë©´ react-reduxì—ì„œ ì œê³µí•˜ëŠ” connect í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. connet(ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ ì•ˆì˜ ìƒíƒœë¥¼ ì»´í¬ë„ŒíŠ¸ì˜ propsë¡œ ë„˜ê²¨ì£¼ê¸° ìœ„í•´ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜, ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ë¥¼ ì»´í¬ë„ŒíŠ¸ì˜ propsë¡œ ë„˜ê²¨ì£¼ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜)(íƒ€ê¹ƒ ì»´í¬ë„ŒíŠ¸)
- mapStateToPropsëŠ” stateë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì˜¤ë©°, ì´ ê°’ì€ í˜„ì¬ ìŠ¤í† ì–´ê°€ ì§€ë‹ˆê³  ìˆëŠ” ìƒíƒœë¥¼ ê°€ë¦¬í‚¨ë‹¤.
- mapDispatchToPropsëŠ” storeì˜ ë‚´ì¥ í•¨ìˆ˜ dispatchë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì˜¨ë‹¤.
- ì·¨í–¥ì— ë”°ë¼ ì˜ˆì œ2 ì²˜ëŸ¼ ì‘ì„±í•˜ê¸°ë„ í•œë‹¤. ì‘ë™ì€ ë˜‘ê°™ì´ ì‘ë™í•œë‹¤.
- ì˜ˆì œ 2ì—ì„œ ë³´ë©´ dispatchë¡œ ê°ì‹¸ëŠ” ì‘ì—…ì´ ìˆëŠ”ë° ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ì˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ ë§ì´ ë²ˆê±°ëŸ¬ì›Œ ì§„ë‹¤. ì´ ë•Œ ë¦¬ë•ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” bindActionCreators ìœ í‹¸ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ê°„í¸í•˜ë‹¤.
- ì˜ˆì œ 3ì˜ ë°©ë²•ë³´ë‹¤ ë” ê°„í¸í•œ ë°©ë²•ì€ ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ë¡œ ì´ë£¨ì–´ì§„ ê°ì²´ í˜•íƒœë¡œ ë„£ì–´ì£¼ëŠ” ê²ƒì´ë‹¤. ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¥¼ ì•„ì˜ˆ ê°ì²´ í˜•íƒœë¡œ ë„£ì–´ ì£¼ë©´ connect í•¨ìˆ˜ê°€ ë‚´ë¶€ì ìœ¼ë¡œ bindActionCreators ì‘ì—…ì„ ëŒ€ì‹ í•´ì¤€ë‹¤.
```javascript
import { connect } from "react-redux";
import Counter from "../components/Counter";

const CounterContainer = ({ number, increase, decrease }) => {
  return (
    <Counter number={number} onIncrease={increase} onDecrease={decrease} />
  );
};
const mapStateToProps = (state) => ({
  number: state.counter.number,
});

const mapDispatchToProps = (dispatch) => ({
  
  increase: () => {
    dispatch(increase());
    console.log("increase");
  },
  decrease: () => {
    dispatch(decrease());
    console.log("decrease");
  },
});
export default connect(mapStateToProps, mapDispatchToProps)(CounterContainer);

// ì˜ˆì œ 2
import { connect } from "react-redux";
import Counter from "../components/Counter";
import { decrease, increase } from "../modules/counter";

const CounterContainer = ({ number, increase, decrease }) => {
  return (
    <Counter number={number} onIncrease={increase} onDecrease={decrease} />
  );
};

export default connect(
  (state) => ({
    number: state.counter.number,
  }),
  (dispatch) => ({
    increase: () => dispatch(increase()),
    decrease: () => dispatch(decrease()),
  })
)(CounterContainer);

// ì˜ˆì œ 3
export default connect(
  (state) => ({
    number: state.counter.number,
  }),
  (dispatch) =>
    bindActionCreators(
      {
        increase,
        decrease,
      },
      dispatch
    )
)(CounterContainer);

// ì˜ˆì œ 4
export default connect(
  (state) => ({
    number: state.counter.number,
  }),
  {
    increase,
    decrease,
  }
)(CounterContainer);
```
```javascript
// containers/TodosContainer.js ì»´í¬ë„ŒíŠ¸
import { connect } from "react-redux";
import { changeInput, insert, remove, toggle } from "../modules/todos";
import Todos from "../components/Todos";

const TodosContainer = ({
  input,
  todos,
  changeInput,
  insert,
  toggle,
  remove,
}) => {
  return (
    <Todos
      input={input}
      todos={todos}
      onChangeInput={changeInput}
      onInsert={insert}
      onToggle={toggle}
      onRemove={remove}
    />
  );
};

export default connect(
  // ë¹„êµ¬ì¡°í™” í• ë‹¹ì„ í†µí•´ todosë¥¼ ë¶„ë¦¬í•˜ì—¬
  // state.todos.input ëŒ€ì‹  todos.inputì„ ì‚¬ìš©
  ({ todos }) => ({
    input: todos.input,
    todos: todos.todos,
  }),
  {
    changeInput,
    insert,
    toggle,
    remove,
  }
)(TodosContainer);

// components/Todos.js ì»´í¬ë„ŒíŠ¸
const TodoItem = ({ todo, onToggle, onRemove }) => {
  return (
    <div>
      <input
        type="checkbox"
        onClick={() => onToggle(todo.id)}
        checked={todo.done}
        readOnly={true}
      />
      <span style={{ textDecoration: todo.done ? "line-through" : "none" }}>
        {todo.text}
      </span>
      <button onClick={() => onRemove(todo.id)}>ì‚­ì œ</button>
    </div>
  );
};

const Todos = ({
  input, // ì¸í’‹ì— ì…ë ¥ë˜ëŠ” í…ìŠ¤íŠ¸
  todos, // í• ì¼ ëª©ë¡ì´ ë“¤ì–´ ìˆëŠ” ê°ì²´
  onChangeInput,
  onInsert,
  onToggle,
  onRemove,
}) => {
  const onSubmit = (e) => {
    e.preventDefault();
    onInsert(input);
    onChangeInput(""); // ë“±ë¡ í›„ ì¸í’‹ ì´ˆê¸°í™”
  };
  const onChange = (e) => onChangeInput(e.target.value);
  return (
    <div>
      <form onSubmit={onSubmit}>
        <input value={input} onChange={onChange} />
        <button type="submit">ë“±ë¡</button>
      </form>
      <div>
        {todos.map((todo) => (
          <TodoItem
            todo={todo}
            key={todo.id}
            onToggle={onToggle}
            onRemove={onRemove}
          />
        ))}
      </div>
    </div>
  );
};

export default Todos;

// App.js ì»´í¬ë„ŒíŠ¸
import TodosContainer from "./containers/TodosContainer";
import CounterContainer from "./containers/CounterContainer";

const App = () => {
  return (
    <div>
      <CounterContainer />
      <hr />
      <TodosContainer />
    </div>
  );
};
export default App;
```

## ë¦¬ë•ìŠ¤ ë” í¸í•˜ê²Œ ì‚¬ìš©í•˜ê¸°
- ì•¡ì…˜ ìƒì„± í•¨ìˆ˜, ë¦¬ë“€ì„œë¥¼ ì‘ì„±í•  ë•Œ redux-actionsë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì˜ˆì „ì— ë°°ì› ë˜ immer ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ë©´ ë¦¬ë•ìŠ¤ë¥¼ í›¨ì”¬ í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## redux-actions
- ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ë©´ ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ë¥¼ ë” ì§§ì€ ì½”ë“œë¡œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. ë¦¬ë“€ì„œë¥¼ ì‘ì„±í•  ë•Œë„ switch/case ë¬¸ì´ ì•„ë‹Œ handleActionsë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ì•¡ì…˜ë§ˆë‹¤ ì—…ë°ì´íŠ¸ í•¨ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•´ ì¤„ ìˆ˜ ìˆë‹¤.
- ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ë¥¼ ë‹¤ ì‘ì„±í•˜ê³  ë‚œë’¤ handleActionsë¥¼ ì‚¬ìš©í•´ ë¦¬ë“€ì„œë¥¼ ì¬ì‘ì„±í•´ì•¼ í•œë‹¤. createActionìœ¼ë¡œ ë§Œë“  ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ëŠ” íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ ì˜¨ ê°’ì„ ê°ì²´ ì•ˆì— ë„£ì„ ë•Œ ì›í•˜ëŠ” ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— action.id, action.todoì™€ ê°™ì´ action.payload ê°’ì„ ì¡°íšŒí•˜ì—¬ ì—…ë°ì´íŠ¸í•˜ë„ë¡ êµ¬í˜„í•´ì£¼ì–´ì•¼ í•œë‹¤.
- í•˜ì§€ë§Œ ëª¨ë“  ê°’ì„ action.payloadë¡œ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë‚˜ì¤‘ì— ì½”ë“œë¥¼ ë‹¤ì‹œ ë³¼ë•Œ í—·ê°ˆë¦´ ìˆ˜ë„ ìˆê¸°ì— ê°ì²´ ë¹„êµ¬ì¡°í™” í• ë‹¹ ë¬¸ë²•ìœ¼ë¡œ action ê°’ì˜ payload ì´ë¦„ì„ ìƒˆë¡œ ì„¤ì •í•´ ì£¼ë©´ action.payloadê°€ ì–´ë–¤ ê°’ì„ ì˜ë¯¸í•˜ëŠ”ì§€ í™•ì‹¤íˆ ì•Œ ìˆ˜ ìˆë‹¤.

## immer
- ë¦¬ë“€ì„œì—ì„œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•  ë•Œ, ë¶ˆë³€ì„±ì„ ì§€ì¼œì•¼í•œë‹¤. ëª¨ë“ˆì˜ ìƒíƒœê°€ ë³µì¡í•´ì§ˆìˆ˜ë¡ ë¶ˆë³€ì„±ì„ ì§€í‚¤ê¸°ê°€ ê¹Œë‹¤ë¡œì›Œì§€ê¸° ë•Œë¬¸ì— immerë¥¼ ì‚¬ìš©í•œë‹¤.
- immerë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•´ì„œ ëª¨ë“  ì—…ë°ì´íŠ¸ í•¨ìˆ˜ì— immerë¥¼ ì ìš©í•  í•„ìš”ëŠ” ì—†ë‹¤. ì•„ë˜ ì½”ë“œì—ì„œ modules/todos.js ì»´í¬ë„ŒíŠ¸ì˜ REMOVEë¥¼ ì°¸ê³ í•˜ë©´ ëœë‹¤.
```javascript
// modules/todos.js ì»´í¬ë„ŒíŠ¸
import { createAction, handleActions } from "redux-actions";
import produce from "immer";

const CHANGE_INPUT = "todos/CHANGE_INPUT"; // ì¸í’‹ ê°’ì„ ë³€ê²½í•¨
const INSERT = "todos/INSERT"; // ìƒˆë¡œìš´ todoë¥¼ ë“±ë¡í•¨
const TOGGLE = "todos/TOGGLE"; // todoë¥¼ ì²´í¬/ì²´í¬í•´ì§€
const REMOVE = "todos/REMOVE"; // todo ì‚­ì œ

export const changeInput = createAction(CHANGE_INPUT, (input) => input);

let id = 3; // insertê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ 1ì”© ë”í•´ì§„ë‹¤.
export const insert = createAction(INSERT, (text) => ({
  id: id++,
  text,
  done: false,
}));

export const toggle = createAction(TOGGLE, (id) => id);
export const remove = createAction(REMOVE, (id) => id);

const initialState = {
  input: "",
  todos: [
    {
      id: 1,
      text: "ë¦¬ë•ìŠ¤ ê¸°ì´ˆ ë°°ìš°ê¸°",
      done: true,
    },
    {
      id: 2,
      text: "ë¦¬ì•¡íŠ¸ ë¦¬ë•ìŠ¤ ì‚¬ìš©",
      done: false,
    },
  ],
};

const todos = handleActions(
  {
    [CHANGE_INPUT]: (state, { payload: input }) =>
      produce(state, (draft) => {
        draft.input = input;
      }),

    [INSERT]: (state, { payload: todo }) =>
      produce(state, (draft) => {
        draft.todos.push(todo);
      }),

    [TOGGLE]: (state, { payload: id }) =>
      produce(state, (draft) => {
        const todo = draft.todos.find((todo) => todo.id === id);
        todo.done = !todo.done;
      }),
    [REMOVE]: (state, { payload: id }) => ({
      ...state,
      todos: state.todos.filter((todo) => todo.id !== id),
    }),
  },
  initialState
);
export default todos;
```

## Hooks ì‚¬ìš©í•˜ê¸°
- ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ì™€ ì—°ë™ëœ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ë•Œ connect í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  react-reduxì—ì„œ ì œê³µí•˜ëŠ” Hooksë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.
- useSelectorë¡œ ìƒíƒœ ì¡°íšŒ, useDispatchë¡œ ì•¡ì…˜ ë””ìŠ¤íŒ¨ì¹˜, useStoreë¡œ ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ ì‚¬ìš©, useActionsë¡œ ìœ í‹¸ Hook ë§Œë“¤ì–´ ì‚¬ìš©

## useSelector
- ì‚¬ìš©ë²•: ``` const ê²°ê³¼ = useSelector(ìƒíƒœ ì„ íƒ í•¨ìˆ˜) ```

## useDispatch
- ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ìŠ¤í† ì–´ì˜ ë‚´ì¥ í•¨ìˆ˜ dispatchë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜ í•´ì•¼ í•œë‹¤ë©´ ì´ Hookì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
- ì‚¬ìš©ë²•: ``` const dispatch = useDispatch(); dispatch({ type: 'SAMPLE_ACTION' }); ```

## useStore
- ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ ê°ì²´ë¥¼ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìŠ¤í† ì–´ì— ì§ì ‘ ì ‘ê·¼í•´ì•¼ í•˜ëŠ” ìƒí™©ì—ë§Œ ì‚¬ìš©í•˜ê³  ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” ìƒí™©ì€ í”í•˜ì§€ ì•Šì„ê²ƒì´ë‹¤. ê·¸ë˜ë„ ì‚¬ìš©ë²•ì€ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤.
- ì‚¬ìš©ë²•: ``` const store: useStore(); store.dispatch({ type: 'SAMPLE_ACTION' }); store.getState ```

```javascript
// containers/CounterContainer.js ì»´í¬ë„ŒíŠ¸
import { useCallback } from "react";
import { useDispatch, useSelector } from "react-redux";
import Counter from "../components/Counter";
import { decrease, increase } from "../modules/counter";

const CounterContainer = () => {
  const number = useSelector((state) => state.counter.number);
  const dispatch = useDispatch();
  const onIncrease = useCallback(() => dispatch(increase()), [dispatch]);
  const onDecrease = useCallback(() => dispatch(decrease()), [dispatch]);
  return (
    <Counter number={number} onIncrease={onIncrease} onDecrease={onDecrease} />
  );
};

export default CounterContainer;

// containers/TodosContainer.js ì»´í¬ë„ŒíŠ¸
import { useDispatch, useSelector } from "react-redux";
import { changeInput, insert, remove, toggle } from "../modules/todos";
import Todos from "../components/Todos";
import { useCallback } from "react";

const TodosContainer = () => {
  const { input, todos } = useSelector(({ todos }) => ({
    input: todos.input,
    todos: todos.todos,
  }));

  const dispatch = useDispatch();
  const onChangeInput = useCallback(
    (input) => dispatch(changeInput(input)),
    [dispatch]
  );

  const onInsert = useCallback((text) => dispatch(insert(text)), [dispatch]);
  const onToggle = useCallback((id) => dispatch(toggle(id)), [dispatch]);
  const onRemove = useCallback((id) => dispatch(remove(id)), [dispatch]);

  return (
    <Todos
      input={input}
      todos={todos}
      onChangeInput={onChangeInput}
      onInsert={onInsert}
      onToggle={onToggle}
      onRemove={onRemove}
    />
  );
};

export default TodosContainer;
```

## useActions
- ê³µì‹ ë¬¸ì„œì—ì„œ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì œê³µí•˜ê³  ìˆë‹¤. [ì°¸ê³ ë§í¬](https://react-redux.js.org/next/api/hooks#recipe-useactions). ì´ê±¸ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ê°œì˜ ì•¡ì…˜ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš° ì½”ë“œë¥¼ ë”ìš± ê¹”ë”í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

```javascript
// lib/useActions.js ì»´í¬ë„ŒíŠ¸
import { bindActionCreators } from "redux";
import { useDispatch } from "react-redux";
import { useMemo } from "react";

export default function useActions(actions, deps) {
  const dispatch = useDispatch();
  return useMemo(
    () => {
      if (Array.isArray(actions)) {
        return actions.map((a) => bindActionCreators(a, dispatch));
      }
      return bindActionCreators(actions, dispatch);
    },
    deps ? [dispatch, ...deps] : deps
  );
}

// containers/TodosContainer.js ì»´í¬ë„ŒíŠ¸
import { useSelector } from "react-redux";
import { changeInput, insert, remove, toggle } from "../modules/todos";
import Todos from "../components/Todos";
import useActions from "../lib/useActions";

const TodosContainer = () => {
  const { input, todos } = useSelector(({ todos }) => ({
    input: todos.input,
    todos: todos.todos,
  }));

  const [onChangeInput, onInsert, onToggle, onRemove] = useActions(
    [changeInput, insert, toggle, remove],
    []
  );

  return (
    <Todos
      input={input}
      todos={todos}
      onChangeInput={onChangeInput}
      onInsert={onInsert}
      onToggle={onToggle}
      onRemove={onRemove}
    />
  );
};

export default TodosContainer;
```

## connect í•¨ìˆ˜ì™€ì˜ ì£¼ìš” ì°¨ì´ì 
- connect í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì—ˆì„ ê²½ìš°, í•´ë‹¹ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ì˜ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ ë  ë•Œ í•´ë‹¹ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ì˜ propsê°€ ë°”ë€Œì§€ ì•Šì•˜ë‹¤ë©´ ë¦¬ë Œë”ë§ì´ ìë™ìœ¼ë¡œ ë°©ì§€ë˜ì–´ ì„±ëŠ¥ì´ ìµœì í™” ëœë‹¤. í•˜ì§€ë§Œ useSelectorë¥¼ ì‚¬ìš©í•˜ì—¬ ë¦¬ë•ìŠ¤ ìƒíƒœë¥¼ ì¡°íšŒí–ˆì„ ë•ŒëŠ” ì´ ìµœì í™” ì‘ì—…ì´ ìë™ìœ¼ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šìœ¼ë¯€ë¡œ, ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ì„œëŠ” React.memoë¥¼ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ì— ì‚¬ìš©í•´ ì£¼ì–´ì•¼ í•œë‹¤. ìœ„ì— ìˆëŠ” ì½”ë“œì—ì„œ ì´ ë¶€ë¶„ë§Œ ìˆ˜ì •í•´ì£¼ë©´ ëœë‹¤.
```javascript
// containers/TodosContainer.js ì»´í¬ë„ŒíŠ¸
export default React.memo(TodosContainer);
```


## ì •ë¦¬ğŸ§‘â€ğŸ’»
- ë¦¬ë•ìŠ¤ë¥¼ í™œìš©í•œ í”„ë¡œì íŠ¸ë¥¼ í•´ë³´ì•˜ë‹¤. ì—…ë°ì´íŠ¸ì— ê´€ë ¨ëœ ë¡œì§ì„ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì™„ë²½í•˜ê²Œ ë¶„ë¦¬ì‹œí‚¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìœ ì§€ ë³´ìˆ˜ì„±ì´ ë†’ì€ ì½”ë“œë¥¼ ì‘ì„±í•´ ë‚¼ ìˆ˜ ìˆê³  ìƒíƒœë¥¼ ë” ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ì´ë²ˆì— í•œ ì‘ì—…ì— ëŒ€í•œ ì½”ë“œë„ ê³„ì† ë³´ê³  ì´í•´í•´ì„œ ë¦¬ë•ìŠ¤ì— ëŒ€í•´ ì •í™•í•˜ê²Œ ì•Œì•„ì•¼ ë  ê²ƒ ê°™ë‹¤. ì£¼ë³€ì—ì„œ ë©´ì ‘ ë³¼ ë•Œ ë¦¬ë•ìŠ¤ì— ëŒ€í•´ì„œ ë¬¼ì–´ë³¼ ë§Œí¼ ë¦¬ë•ìŠ¤ê°€ ì¤‘ìš”í•˜ë‹¤ëŠ”ê±¸ ìƒˆì‚¼ ëŠë¼ê²Œ ë˜ì—ˆë‹¤.












