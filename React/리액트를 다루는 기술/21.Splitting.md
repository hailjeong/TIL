# ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ì™„ì„±í•´ ì‚¬ìš©ìì—ê²Œ ì œê³µí•  ë•ŒëŠ” ë¹Œë“œ ì‘ì—…ì„ ê±°ì³ì„œ ë°°í¬í•´ì•¼ í•œë‹¤. ë¹Œë“œ ì‘ì—…ì„ í†µí•´ ë¶ˆí•„ìš”í•œ ì£¼ì„, ê²½ê³  ë©”ì‹œì§€, ê³µë°±ë“±ì„ ì œê±°í•´ íŒŒì¼ í¬ê¸°ë¥¼ ìµœì†Œí™”í•˜ê¸°ë„ í•˜ê³ , JSXë¬¸ë²•ì´ë‚˜ ë‹¤ë¥¸ ìµœì‹  ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ì´ ì›í• í•˜ê²Œ ì‹¤í–‰ë˜ë„ë¡ ì½”ë“œì˜ íŠ¸ëœìŠ¤íŒŒì¼ ì‘ì—…ë„ í•  ìˆ˜ ìˆë‹¤.
- ì´ ì‘ì—…ì€ ì›¹íŒ©(webpack)ì´ë¼ëŠ” ë„êµ¬ê°€ ë‹´ë‹¹í•œë‹¤. ë³„ë„ì˜ ì„¤ì •ì„ í•˜ì§€ ì•Šìœ¼ë©´ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© ì¤‘ì¸ ëª¨ë“  ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì´ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ í•©ì³ì§€ê³ , ëª¨ë“  CSSíŒŒì¼ë„ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ í•©ì³ì§„ë‹¤.
- CRAë¡œ í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•  ê²½ìš° ìµœì†Œ ë‘ ê°œ ì´ìƒì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì´ ìƒì„±ë˜ëŠ”ë° CRAì˜ ê¸°ë³¸ ì›¹íŒ© ì„¤ì •ì—ëŠ” SplitChunksë¼ëŠ” ê¸°ëŠ¥ì´ ì ìš©ë˜ì–´ node_modulesì—ì„œ ë¶ˆëŸ¬ì˜¨ íŒŒì¼, ì¼ì • í¬ê¸° ì´ìƒì˜ íŒŒì¼, ì—¬ëŸ¬ íŒŒì¼ ê°„ì— ê³µìœ ëœ íŒŒì¼ì„ ìë™ìœ¼ë¡œ ë”°ë¡œ ë¶„ë¦¬ì‹œì¼œì„œ ìºì‹±ì˜ íš¨ê³¼ë¥¼ ì œëŒ€ë¡œ ëˆ„ë¦´ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
- íŒŒì¼ì„ ë¶„ë¦¬í•˜ëŠ” ì‘ì—…ì„ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì´ë¼ê³  í•œë‹¤. íš¨ìœ¨ì ì¸ ìºì‹± íš¨ê³¼ë§Œ ìˆì„ ë¿ ì•„ë‹ˆë¼ ì½”ë“œ ë¹„ë™ê¸° ë¡œë”©ë„ ëœë‹¤.
- ì½”ë“œ ë¹„ë™ê¸° ë¡œë”©ì´ë€ A, B, C í˜ì´ì§€ê°€ ìˆë‹¤ê³  ê°€ì •í•  ë•Œ, ì‚¬ìš©ìê°€ Aí˜ì´ì§€ì— ë°©ë¬¸í–ˆì„ ë•Œ ì‚¬ìš©ìëŠ” B, C í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ì •ë³´ëŠ” í•„ìš”í•˜ì§€ ì•Šë‹¤. ë³„ë„ë¡œ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ A, B, C í˜ì´ì§€ê°€ ëª¨ë‘ í•œ íŒŒì¼ì— ì €ì¥ë˜ì–´ ë²„ë¦¬ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê·œëª¨ê°€ ì»¤ì§€ë©´ ì§€ê¸ˆ í•„ìš”í•˜ì§€ ì•Šì€ ì»´í¬ë„ŒíŠ¸ ì •ë³´ë„ ëª¨ë‘ ë¶ˆëŸ¬ì˜¤ë©´ì„œ íŒŒì¼ í¬ê¸°ê°€ ë§¤ìš° ì»¤ì ¸ë²„ë¦°ë‹¤. ê·¸ë ‡ê²Œ ë˜ë©´ ë¡œë”©ì´ ì˜¤ë˜ ê±¸ë¦¬ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì ê²½í—˜ë„ ì•ˆì¢‹ì•„ì§€ê³  íŠ¸ë˜í”½ë„ ë§ì´ ë‚˜ì˜¤ê²Œ ëœë‹¤. ì½”ë“œ ë¹„ë™ê¸° ë¡œë”©ì„ í†µí•´ ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜, ê°ì²´ í˜¹ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì²˜ìŒì—ëŠ” ë¶ˆëŸ¬ì˜¤ì§€ ì•Šê³  í•„ìš”í•œ ì‹œì ì— ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ ë¹„ë™ê¸° ë¡œë”©
- importë¥¼ ìƒë‹¨ì—ì„œ í•˜ì§€ ì•Šê³  import() í•¨ìˆ˜ í˜•íƒœë¡œ ë©”ì„œë“œ ì•ˆì—ì„œ ì‚¬ìš©í•˜ë©´, íŒŒì¼ì„ ë”°ë¡œ ë¶„ë¦¬ì‹œì¼œì„œ ì €ì¥í•©ë‹ˆë‹¤. importë¥¼ í•¨ìˆ˜ë¡œ ì‚¬ìš©í•˜ë©´ Promiseë¥¼ ë°˜í™˜í•œë‹¤. importë¥¼ í•¨ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ” ë¬¸ë²•ì€ ì•„ì§ í‘œì¤€ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì•„ë‹ˆì§€ë§Œ dynamic importë¼ëŠ” ë¬¸ë²•ì´ë‹¤. result.defaultë¥¼ ì°¸ì¡°í•´ì•¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```javascript
  const onClick = () => {
    import("./notify").then((result) => result.default());
  };
```

## React.lazy | Suspense
- ë¦¬ì•¡íŠ¸ì— ë‚´ì¥ëœ ê¸°ëŠ¥ ìœ í‹¸ í•¨ìˆ˜ React.lazyì™€ ì»´í¬ë„ŒíŠ¸ì¸ Suspenseê°€ ìˆë‹¤. ì´ê±´ ë¦¬ì•¡íŠ¸ 16.6 ë²„ì „ë¶€í„° ë„ì…ë˜ì—ˆë‹¤. ì˜ˆì „ì—ëŠ” import í•¨ìˆ˜ë¥¼ í†µí•´ ë¶ˆëŸ¬ì˜¨ ë‹¤ìŒ, ì»´í¬ë„ŒíŠ¸ ìì²´ë¥¼ stateì— ë„£ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í–ˆë‹¤.
- React.lazy ì—†ì´ ì»´í¬ë„ŒíŠ¸ì˜ ì½”ë“œë¥¼ ìŠ¤í”Œë¦¬íŒ… í•œë‹¤ë©´ ì•„ë˜ ì½”ë“œì²˜ëŸ¼ í•´ì•¼í•œë‹¤. í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ë¡œ ì „í™˜í•˜ê³  handleClick ë©”ì„œë“œë¥¼ ë§Œë“¤ê³  ê·¸ ë‚´ë¶€ì—ì„œ SplitMe ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶ˆëŸ¬ì™€ stateì— ë„£ëŠ”ë‹¤. stateì•ˆì— ìˆëŠ” SplitMeê°€ ìœ íš¨í•˜ë‹¤ë©´ SplitMe ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•´ ì£¼ì–´ì•¼ í•œë‹¤.
- stateë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ í•˜ëŠ” ê²ƒì´ ê·¸ë ‡ê²Œ ì–´ë µì§€ëŠ” ì•Šì§€ë§Œ, ë§¤ë²ˆ stateë¥¼ ì„ ì–¸í•´ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ì ì´ ì¡°ê¸ˆ ë¶ˆí¸í•˜ë‹¤.
```javascript
// App.js ì»´í¬ë„ŒíŠ¸ 
import { Component } from "react";
import logo from "./logo.svg";
import "./App.css";
// import notify from "./notify";

class App extends Component {
  state = {
    SplitMe: null,
  };
  handleClick = async () => {
    const loadedModule = await import("./SplitMe");
    this.setState({
      SplitMe: loadedModule.default,
    });
  };
  render() {
    const { SplitMe } = this.state;
    return (
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <p onClick={this.handleClick}>Hello React!</p>
          {SplitMe && <SplitMe />}
        </header>
      </div>
    );
  }
}

export default App;
```
- React.lazyì™€ Suspenseë¥¼ ì‚¬ìš©í•˜ë©´ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ í•˜ê¸° ìœ„í•´ stateë¥¼ ë”°ë¡œ ì„ ì–¸í•˜ì§€ ì•Šê³ ë„ ê°„í¸í•˜ê²Œ ì»´í¬ë„ŒíŠ¸ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ í•  ìˆ˜ ìˆë‹¤.
```javascript
// App.js ì»´í¬ë„ŒíŠ¸
import logo from "./logo.svg";
import "./App.css";
import { useState, Suspense } from "react";
import React from "react";
const SplitMe = React.lazy(() => import("./SplitMe"));

function App() {
  const [visible, setVisible] = useState(false);
  const onClick = () => {
    setVisible(true);
  };

  return (
    <div className="App">
      <header className="App-header">
        <img src={logo} className="App-logo" alt="logo" />
        <p onClick={onClick}>Hello React!</p>
        <Suspense fallback={<div>loading...</div>}>
          {visible && <SplitMe />}
        </Suspense>
      </header>
    </div>
  );
}

export default App;
```
## Loadable Components ì´ìš©í•œ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- Loadable ComponentsëŠ” ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ í¸í•˜ê²Œ ë„ì™€ì£¼ëŠ” ì„œë“œíŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì„ ì§€ì›í•˜ê³  ë Œë”ë§í•˜ê¸° ì „ì— í•„ìš”í•  ë•Œ ìŠ¤í”Œë¦¬íŒ… ëœ íŒŒì¼ì„ ë¯¸ë¦¬ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ë„ ìˆë‹¤.
- ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì´ë€ ì›¹ ì„œë¹„ìŠ¤ì˜ ì´ˆê¸° ë¡œë”© ì†ë„ ê°œì„ , ìºì‹± ë° ê²€ìƒ‰ ì—”ì§„ ìµœì í™”ë¥¼ ê¸°ëŠ¥í•˜ê²Œ í•´ ì£¼ëŠ” ê¸°ìˆ ì´ë‹¤. ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì„ ì‚¬ìš©í•˜ë©´ ì›¹ ì„œë¹„ìŠ¤ì˜ ì´ˆê¸° ë Œë”ë§ì„ ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ê°€ ì•„ë‹Œ ì„œë²„ ìª½ì—ì„œ ì²˜ë¦¬í•œë‹¤. ì‚¬ìš©ìëŠ” ì„œë²„ì—ì„œ ë Œë”ë§í•œ html ê²°ê³¼ë¬¼ì„ ë°›ì•„ ì™€ì„œ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì´ˆê¸° ë¡œë”© ì†ë„ë„ ê°œì„ ë˜ê³ , ê²€ìƒ‰ ì—”ì§„ì—ì„œ í¬ë¡¤ë§í•  ë•Œë„ ë¬¸ì œì—†ë‹¤.
- React.lazy ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ Suspenseë¥¼ ì‚¬ìš©í•  í•„ìš”ëŠ” ì—†ë‹¤.
- ì»´í¬ë„ŒíŠ¸ë¥¼ ë¯¸ë¦¬ ë¶ˆëŸ¬ì˜¤ëŠ” preload ë°©ë²•ë„ ìˆë‹¤. ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ ë¡œë”©ì´ ì‹œì‘ë˜ê³  í´ë¦­ì„ í–ˆì„ ë•Œ ë Œë”ë§ì´ ëœë‹¤. 
- Loadable Components ë¯¸ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸° ê¸°ëŠ¥ ì™¸ì—ë„ íƒ€ì„ì•„ì›ƒ, ë¡œë”© UIë”œë ˆì´, ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ í˜¸í™˜ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. [ë”ìš± ìì„¸í•œ ê³µì‹ë¬¸ì„œ](https://www.smooth-code.com/open-source/loadable-components/docs/delay/).
```javascript
import logo from "./logo.svg";
import "./App.css";
import { useState } from "react";
import loadable from "@loadable/component";

const SplitMe = loadable(() => import("./SplitMe"), {
  fallback: <div>loading...</div>,
});

function App() {
  const [visible, setVisible] = useState(false);
  const onClick = () => {
    setVisible(true);
  };

  const onMouseOver = () => {
    SplitMe.preload();
  };

  return (
    <div className="App">
      <header className="App-header">
        <img src={logo} className="App-logo" alt="logo" />
        <p onClick={onClick} onMouseOver={onMouseOver}>
          Hello React!
        </p>

        {visible && <SplitMe />}
      </header>
    </div>
  );
}

export default App;
```

## ì •ë¦¬ğŸ§‘â€ğŸ’»
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì— ëŒ€í•´ì„œ ì•Œì•„ ë³´ë©´ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì–´ë–»ê²Œ ë¶„ë¦¬ëœ íŒŒì¼ë¡œ ì €ì¥í•˜ê³  ë˜ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•˜ëŠ”ì§€ë¥¼ ê³µë¶€í–ˆë‹¤. ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì„ í•  ê³„íšì´ ì—†ìœ¼ë©´ React.lazyì™€ Suspenseë¡œ êµ¬í˜„í•˜ê³  í•  ê³„íšì´ ìˆìœ¼ë©´ Loadable Componentsë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 
- ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì€ ì¤‘ìš”í•œ ê°œë…ì´ê¸°ì— Loadable Componentsë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ìµí˜€ë†“ëŠ”ê²Œ ì¢‹ì„ ê²ƒ ê°™ë‹¤.















