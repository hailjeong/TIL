# 리덕스 활용하기

- 리덕스를 사용하면, 상태 업데이트에 관한 로직을 모듈로 따로 분리하여 컴포넌트 파일과 별개로 관리할 수 있으므로 코드를 유지 보수하는데 도움이 된다. 또 여러 컴포넌트에서 동일한 상태를 공유해야 할 때 매우 유용하며, 실제 업데이트가 필요한 컴포넌트만 리렌더링 되도록 쉽게 최적화해 줄 수도 있다.
- 많이 사용하는 패턴은 프레젠테이션 컴포넌트와 컨테이너 컴포넌트를 분리하는 것입니다. 프레젠테이션 컴포넌트는 주로 상태 관리가 이루어지지 않고, 그저 props를 받아 와서 화면에 UI를 보여 주기만 하는 컴포넌트를 말하고 컨테이너 컴포넌트는 리덕스와 연동되어 있는 컴포넌트로, 리덕스로부터 상태를 받아 오기도 하고 리덕스 스토어에 액션을 디스패치하기도 한다. 이렇게 나누는 이유는 코드의 재사용성도 높아지고, 관심사의 분리가 이루어져 UI를 작성할 때 좀 더 집중할 수 있다.
- 리덕스를 사용할 때는 액션 타입, 액션 생성 함수, 리듀서 코드를 작성해야 한다. 각각 다른 파일에 작성하는 방법도 있고, 기능별로 묶어서 파일 하나에 작성하는 방법도 있다.
- 파일 하나에 다 작성하는 방식을 Ducks패턴이라고 한다. 이번 프로젝트에서는 Ducks패턴을 상요할 예정이다.
- 가장 먼저 해야 할 일은 액션 타입을 정의 하는 것이다. 액션 타입은 대문자로 정의하고, 문자열 내용은 '모듈 이름/액션 이름'과 같은 형태로 작성한다. 문자열 안에 모듈 이름을 넣어줌으로 인해 나중에 큰 프로젝트 안에서 액션의 이름이 충돌하지 않게 된다.
```javascript
const INCREASE = "counter/INCREASE";
const DECREASE = "counter/DECREASE";
```
- 그 다음 해야 할 일은 액션 생성 함수를 만들어주는 것이다. 더 필요하거나 추가할 값이 없으니 type만 설정해주면 된다.
- export라는 키워드르 사용함으로써 이 함수를 다른 파일에서 불러와 사용할 수 있다.
```javascript
export const increase = () => ({ type: INCREASE });
export const decrease = () => ({ type: DECREASE });
```
- 마지막으로 counter 모듈의 초기 상태와 리듀서 함수를 만들어 주어야 한다.
- 끝 부분에 export default를 사용하여 함수를 내보내 주었는데 export는 여러 개를 보낼 수 있지만 export default는 한 개만 보낼수 있다.
```javascript
const initialState = {
  number: 0,
};

function counter(state = initialState, action) {
  switch (action.type) {
    case INCREASE:
      return {
        number: state.number + 1,
      };

    case DECREASE:
      return {
        number: state.number - 1,
      };
    default:
      return state;
  }
}

export default counter;
```
