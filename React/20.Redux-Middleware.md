# 리덕스 미들웨어(Redux-Middleware)

- API 서버를 연동할 때는 API 요청에 대한 상태도 잘 관리해야 한다. 요청이 시작되었을 때는 로딩 중임을, 요청이 성공하거나 실패했을 때는 로딩이 끝났음을 명시해야 한다. 요청이 성공하면 서버에서 받아 온 응답에 대한 상태를 관리하고, 요청이 실패하면 서버에서 반환한 에러에 대한 상태를 관리해야 한다. 리액트에서 리덕스를 사용하고 있으며 비동기 작업을 관리해야 한다면, "미들웨어"를 사용하여 효율적이고 편하게 상태 관리를 할 수 있다.

## 미들웨어
- 리덕스 미들웨어는 액션을 디스패치 했을 때 리듀서에서 이를 처리하기에 앞서 사전에 지정된 작업들을 실행한다. 미들웨어는 액션과 리듀서 사이의 중간자라고 볼 수 있다.
- 리듀서가 액션을 처리하기 전에 미들웨어가 할 수 있는 작업은 여러 가지가 있다. 전달받은 액션을 단순히 콘솔에 기록하거나, 전달받은 액션 정보를 기반으로 액션을 아예 취소하거나, 다른 종류의 액션을 추가로 디스패치 할 수도 있다.
- 실제 프로젝트를 할 때 미들웨어를 직접 만들어서 사용할 일은 그리 많지 않다. 다른 개발자가 만들어 놓은 미들웨어를 사용하면 되기 때문이다. 어떻게 작동하는지 이해하기 위해서는 직접 만들어 보는 것이 가장 효과적이다. 상황에 따라 직접 만들거나 기존 미들웨어들을 커스터마이징 하여 사용할 수도 있다. 
- 미들웨어는 결국 함수를 반환하는 함수를 반환하는 함수이다. 파라미터로 받아 오는 store는 리덕스 스토어 인스턴스를, action은 디스패치된 액션을 가리킨다. next는 파라미터는 함수 형태이며, store, dispatch와 비슷한 역할을 한다. 큰 차이점이 있는데 next(action)을 호출하면 그 다음 처리해야 할 미들웨어에게 액션을 넘겨주고, 만약에 미들웨어가 없다면 리듀서에게 액션을 넘겨준다는 것이다.
